<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="badge-score" attributes="badge">
  <template>
  <div>
    <link rel="stylesheet" href="badge-score.css">
    <b style="
      position : relative;
      top : {{title.top}};
      font-size : {{title.size}};
    ">AMAZING BUG REPORT</b>
    <svg height="{{canvasH}}" width="{{canvasW}}">
      <circle cx="{{circle.x}}" cy="{{circle.y}}" r="{{circle.radius}}" stroke="black" stroke-width="{{circle.stroke_width}}" fill="white" />
      <text x="{{count.x}}" y="{{count.y}}" font-size="{{count.size}}";>
      {{badge.bugCount}}
      </text>
    </svg>
  </div>
  </template>
  <script>
    (function () {
      var margin = 20;
      var radius = 60;
      var strokeWidth = radius * 0.1;
      var x = (radius + strokeWidth) + margin/2;
      var y = (radius + strokeWidth) + margin/2;

      var canvasW = ((strokeWidth + radius) * 2) + margin;
      var canvasH = ((strokeWidth + radius) * 2) + margin;

      var countSize = radius * 0.7;
      var countX = x;
      var countY = y + (countSize/4);

      var titleSize = 22;
      var titleTop = (canvasH/2)-titleSize/2;

      Polymer({
        // define element prototype here
          people : { 
                      count : 20
                   },
          canvasH : canvasH,
          canvasW : canvasW,
          circle : {
          radius : radius,
          x : x,
          y : y,
          stroke_width : strokeWidth
          },
          title : {
            top : titleTop + "px",
            size : titleSize + "px"
          },
          count : {
            x : countX,
            y : countY,
            size : countSize + "px"
          }
      });

    })();
  </script>
</polymer-element>
